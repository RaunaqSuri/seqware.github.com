<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="UTF-8">
<title>SeqWare › Maven Archetype</title>
<meta content="nanoc 3.6.2" name="generator">
<link href="../../../../assets/style-v17.css" media="screen" rel="stylesheet" type="text/css">
<link href="http://feeds.feedburner.com/seqware" rel="alternate" title="The SeqWare Blog" type="application/atom+xml">
<script type="text/javascript"> var _gaq = _gaq || []; _gaq.push(['_setAccount', 'UA-34523087-1']); _gaq.push(['_trackPageview']); (function() { var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true; ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js'; var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s); })(); </script>
</head>
<body>
<div class="wrapper">
<!-- ***** navigation ***** -->
<div class="nav">
<ol>
<li><a href="../../../../"><span>Home</span></a></li>
<li><a href="../../../../blog/"><span>News</span></a></li>
<li><a href="../../../../docs/"><span>Documentation</span></a></li>
<li><a href="../../../../community/"><span>Community</span></a></li>
<li><a href="../../../../partners/"><span>Partners</span></a></li>
<li><a href="../../../../about/"><span>About</span></a></li>
</ol>
</div>
<!-- ***** sidebar ***** -->
<div class="side">
<div class="section odd">
<script charset="utf-8" src="http://widgets.twimg.com/j/2/widget.js"></script><script> new TWTR.Widget({   version: 2,   type: 'profile',   rpp: 4,   interval: 30000,   width: 250,   height: 370,   theme: {     shell: {       background: '#daebff',       color: '#153b66'     },     tweets: {       background: '#daebff',       color: '#000000',       links: '#153b66'     }   },   features: {     scrollbar: false,     loop: false,     live: true,     behavior: 'all'   } }).render().setUser('seqware').start(); </script>
</div>
<div class="section even">
<p>The current version of SeqWare is 0.13.6.6, released on May 29th, 2013. See the <a href="../../../../release-notes/">release notes</a> for details.</p>
</div>
</div>
<!-- ***** body ***** -->
<div class="body">
<div class="article">
<div class="header">
<h1>Maven Archetype</h1>
</div>
<div class="section" id="working-on-your-own-workflows">
<h2>Working on your own Workflows</h2>

<p>Going back to creation of new workflows in the maven-bundles directory, we will explain some of the magic numbers and settings that we skipped over while demoing workflow launching. </p>

<p>Assuming one uses the Java workflow, use the following options after mvn archetype:generate</p>

<pre><code>    Choose a number or apply filter (format: [groupId:]artifactId, case sensitive contains): 16: 62
    Define value for property 'groupId': : net.sf.seqware
    Define value for property 'artifactId': : helloworld
    Define value for property 'version': 1.0-SNAPSHOT: 1.0
    Define value for property 'package': net.sf.seqware:
    Define value for property 'workflowDirectoryName': : helloworld
    Define value for property 'workflowName': : helloworld
    Define value for property 'workflowVersion': : 1.0
    Confirm properties configuration:
    groupId: net.sf.seqware
    artifactId: helloworld
    version: 1.0
    package: net.sf.seqware
    workflowDirectoryName: helloworld
    workflowName: helloworld
    workflowVersion: 1.0
    Y: Y
    [INFO] ----------------------------------------------------------------------------
    [INFO] Using following parameters for creating project from Archetype: seqware-archetype-java-workflow:0.13.6-SNAPSHOT
    [INFO] ----------------------------------------------------------------------------
    [INFO] Parameter: groupId, Value: net.sf.seqware
    [INFO] Parameter: artifactId, Value: helloworld
    [INFO] Parameter: version, Value: 1.0
    [INFO] Parameter: package, Value: net.sf.seqware
    [INFO] Parameter: packageInPathFormat, Value: net/sf/seqware
    [INFO] Parameter: package, Value: net.sf.seqware
    [INFO] Parameter: version, Value: 1.0
    [INFO] Parameter: workflowName, Value: helloworld
    [INFO] Parameter: groupId, Value: net.sf.seqware
    [INFO] Parameter: workflowDirectoryName, Value: helloworld
    [INFO] Parameter: workflowVersion, Value: 1.0
    [INFO] Parameter: artifactId, Value: helloworld
    [INFO] project created from Archetype in dir: /home/seqware/SeqWare/maven-bundles/helloworld
    [INFO] ------------------------------------------------------------------------
    [INFO] BUILD SUCCESSFUL
    [INFO] ------------------------------------------------------------------------
    [INFO] Total time: 4 minutes 35 seconds
    [INFO] Finished at: Fri Nov 23 14:45:24 EST 2012
    [INFO] Final Memory: 23M/166M
    [INFO] ------------------------------------------------------------------------
</code></pre>

<p>Note the following conventions:</p>

<ul>
<li>
    <dl>
<dt>groupId</dt>
      <dd>The workflow belongs to this group. This group id is part of the workflow’s unique identity.</dd>
    </dl>
</li>
  <li>
    <dl>
<dt>artifactId</dt>
      <dd>The specific name of the workflow. Also part of the workflow’s unique identity. This will also be used as the name of the directory containing all the files associated with this workflow.</dd>
    </dl>
</li>
  <li>
    <dl>
<dt>version</dt>
      <dd>The version of this workflow. Again, part of the workflow’s unique identity. When maintaining the code in the future it will be possible to update this value.</dd>
    </dl>
</li>
  <li>
    <dl>
<dt>package</dt>
      <dd>This is a java package name. In the context of creating a workflow this is not used. Just press enter.</dd>
    </dl>
</li>
  <li>
    <dl>
<dt>workflowDirectoryName</dt>
      <dd>A unique workflow directory name. No spaces. All lowercase, separated by underscores.</dd>
    </dl>
</li>
  <li>
    <dl>
<dt>workflowName</dt>
      <dd>A unique camel case workflow name.</dd>
    </dl>
</li>
</ul>
<!-- this explicit pre tag should be avoided, but the automatic nanoc formatting does not 
seem to work here --><pre>
        $ cd workflow-helloworld-example
        $ ls
        pom.xml src workflow  workflow.properties
</pre>

<ul>
<li>
    <dl>
<dt>pom.xml</dt>
      <dd>A maven project file. Edit this to change the version of the workflow and to add or modify workflow dependencies such as program, modules and data.</dd>
    </dl>
</li>
  <li>
    <dl>
<dt>workflow</dt>
      <dd>This directory contains the workflow skeleton. Look in here to modify the workflow .ini, .java files (Java workflow) or workflow.ftl(FTL workflow). The examples of Java and FTL can be found <a href="../../../../docs/15-workflow-examples/">here</a>.</dd>
    </dl>
</li>
  <li>
    <dl>
<dt>src </dt>
      <dd>This directory contains the Java client. Look in here to modify the .java files (Java workflow). The examples of Java and FTL can be found <a href="../../../../docs/15-workflow-examples/">here</a>.</dd>
    </dl>
</li>
  <li>
    <dl>
<dt>workflow.properties</dt>
      <dd>You can edit the description and workflow names in this file.</dd>
    </dl>
</li>
</ul>
<div class="section" id="variables">
<h4>Variables</h4>

<p>Automatically Defined</p>

<ul>
<li>
    <p>${date}: a string representing the date the DAX was created, this is always defined so consider this a reserved variable name. </p>
  </li>
  <li>
    <p>${random}: a randomly generated string, this is always defined so consider this a reserved variable name. </p>
  </li>
  <li>
    <p>${workflow_bundle_dir}: if this workflow is part of a workflow bundle this variable will be defined and points to the path of the root of the directory this workflow bundle has been expanded to. </p>
  </li>
  <li>
    <p>${workflow_base_dir}: ${workflow_bundle_dir}/Workflow_Bundle_{workflow_name}/{workflow_version}</p>
  </li>
</ul>
</div>
</div>
</div>
</div>
</div>
<!-- ***** footer ***** -->
<div id="footer">
<p>SeqWare © 2007–2013 Brian O&#8217;Connor. SeqWare is released under the a <a rel="license" href="http://www.gnu.org/licenses/licenses.html">GNU GPL v3</a>. This site is built using the excellent <a href="http://nanoc.ws/">nanoc</a> tool and example site along with the <a href="http://www.fonts.info/info/press/free-fonts-for-font-face-embedding.htm">Graublau</a> and <a href="https://en.wikipedia.org/wiki/Gentium">Gentium</a> fonts.</p>
</div>
</body>
</html>