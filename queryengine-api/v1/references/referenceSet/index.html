<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Language" content="en-us">
<meta http-equiv="imagetoolbar" content="false">
<meta name="MSSmartTagsPreventParsing" content="true">
<title>Reference Sets | Generic Feature Store API</title>
<link href="../../../css/reset.css" rel="stylesheet" type="text/css">
<link href="../../../css/960.css" rel="stylesheet" type="text/css">
<link href="../../../css/uv_active4d.css" rel="stylesheet" type="text/css">
<link href="../../../shared/css/documentation.css" media="screen" rel="stylesheet" type="text/css">
<link href="../../../shared/css/pygments.css" media="screen" rel="stylesheet" type="text/css">
<script src="../../../shared/js/jquery.js" type="text/javascript"></script><script src="../../../shared/js/documentation.js" type="text/javascript"></script>
</head>
<body class="api">
    <div id="header-wrapper">
      <div id="header">
        <div>
          <a class="logo" href="http://oicr.on.ca/"><img src="../../../images/OICR2logo.png" height="45"></a>
          <ul class="nav">
<li><a href="../../">Generic Feature Store API v1</a></li>
          </ul>
</div>
      </div>
<!-- #header -->
    </div>
<!-- #header-wrapper -->

    <div id="wrapper">
      <div class="content">
    <h1 id="reference-sets-api">Reference Sets API</h1>

<p>Reference sets are collections of references which are a collection of contigs and coordinates. Think of the reference set as “homo sapiens” and a particular reference as a build version like “hg19” or “hg18”.</p>

<p>Things to keep in mind:</p>

<ul>
<li>A reference is associated with one reference set at a time.</li>
  <li>A feature set exist cannot exist without a reference.  If the reference/reference set is not a common one the user can just create them as needed in order to associate with a feature set.</li>
  <li>Feature set can only be associated with 1 reference at a time. Cannot be changed once associated (but in the future an analysis component could convert a feature set to a new feature set with transformed coordinates).</li>
</ul>
<h2 id="general-thoughts">General Thoughts</h2>

<p>Move this to the top document:</p>

<ul>
<li>the API should be self-documenting, a user should be able to do a get and look at the response and know how to navigate to the next level.  The details of how to query may not be clear and require the developer to look at the API documentation but the core URL traversal process should be totally obvious looking at the documents returned.</li>
</ul>
<p>Most responses (unless noted) should have the following fields or nested data structures:</p>

<ul>
<li>id: a numeric identifier unique across the whole backend and not just this particular resource… use a UUID library</li>
  <li>URL: a resolvable URL for this document, can be used as an alternative identifier</li>
  <li>tags: a nested structure that lists out all the tags this entity has associated</li>
  <li>owner: the core owner, almost every resource has a direct owner. While other groups and users may have permissions this owner is the person that created this resource. An owner must be a user and not a group</li>
  <li>acl: ACL-style documents manage the permissions non-owners have on this resource, this includes both individual users and groups</li>
  <li>create_tstmp: a creation time for this resource, when a new version is created (through a edits) this create_tstmp applies to the version. Previous versions will indicate their create_tstmp as the update_tstmp field.  To find the original creation time look at the oldest version for its update_tstmp.</li>
  <li>updates: an array describing the version history for this resource and URLs to retrieve particular previous versions. Most resources will track their versions however very large resources like feature sets and features will use a copy on write approach instead and the analysis set and analysis resources to track versions. Since all resources but features are “cheap” to store we can afford to store all previous versions of them (some backend types give this functionality for free such as HBase).</li>
  <li>version: a URL for this resource that includes the version string. For the most recent version of a resource this is just an alternative URL for accessing it.</li>
  <li>the owner has full control (can do a GET, POST, PUT, DELETE and possibly others if the resource supports it) while permissions for other users and groups is controlled via the ACL.  There is one group, though, that is reserved in this system and that is the “admin” group.  If a user is added to this group they can manipulate any resource using any method it supports.</li>
  <li>most entities in the DB have a TTL that, by default for most objects, is set to FOREVER otherwise the lifetime in seconds. An object may be around that longer than this value but it is guarenteed to not be deleted until after the TTL has expired. The TTL is handy for “expensive” objects like features and feature sets that may have many copies made and we want to delete these as we go to recover extra space.</li>
  <li>deletes of reference sets and other set objects in the database, can we just mark these as delete rather than actually delete?  With the exception of maybe features which we would really like to delete to save space?  Really, it would be best to make this configurable.  So if the DB is being used for clinical then it would not allow for deletions or TTL deletions at all. Things would only be marked as delete and TTL would always be FOREVER. In another DB that is used for research maybe allows for deletes of all objects and a delete of a reference set or reference would delete all features.  I think we need this flexibility since some applications really need a paper trail whereas others do not.</li>
</ul>
<p>In the document below the examples are loosly progressive, so things like versions increment in the document.</p>

<h2 id="authentication">Authentication</h2>

<p>Management of reference sets via the API requires that you are
authenticated.</p>

<h2 id="list-all-reference-sets">List all reference sets</h2>

<pre><code>GET /referenceSets
</code></pre>

<p>Gets a list of references sets, these are typically different species like mouse and human that particular references (builds of a genome) can be associated with.</p>

<h3 id="response">Response</h3>

<pre class="headers"><code>Status: 200 OK</code></pre>

<pre class="highlight"><code class="language-javascript"><span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">"id"</span><span class="o">:</span> <span class="s2">"1"</span><span class="p">,</span>
    <span class="s2">"url"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/referenceSets/1"</span><span class="p">,</span>
    <span class="s2">"version"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/referenceSets/1/version/3"</span><span class="p">,</span>
    <span class="s2">"name"</span><span class="o">:</span> <span class="s2">"Human"</span><span class="p">,</span>
    <span class="s2">"organism"</span><span class="o">:</span> <span class="s2">"Homo Sapiens"</span><span class="p">,</span>
    <span class="s2">"tags"</span><span class="o">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="s2">"id"</span><span class="o">:</span> <span class="s2">"1232"</span><span class="p">,</span>
        <span class="s2">"key"</span><span class="o">:</span> <span class="s2">"released"</span><span class="p">,</span>
        <span class="s2">"predicate"</span><span class="o">:</span> <span class="s2">"equals"</span><span class="p">,</span>
        <span class="s2">"value"</span><span class="o">:</span> <span class="s2">"true"</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="s2">"id"</span><span class="o">:</span> <span class="s2">"29318"</span><span class="p">,</span>
        <span class="s2">"key"</span><span class="o">:</span> <span class="s2">"release_date"</span><span class="p">,</span>
        <span class="s2">"predicate"</span><span class="o">:</span> <span class="s2">"equals"</span><span class="p">,</span>
        <span class="s2">"value"</span><span class="o">:</span> <span class="s2">"2010-08-23 12:34:00"</span>
      <span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">"owner"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/users/23"</span><span class="p">,</span>
    <span class="s2">"acl"</span><span class="o">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="s2">"entity_type"</span><span class="o">:</span> <span class="s2">"group"</span><span class="p">,</span>
        <span class="s2">"url"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/groups/14"</span><span class="p">,</span>
        <span class="s2">"permissions"</span><span class="o">:</span> <span class="p">[</span>
          <span class="s2">"GET"</span><span class="p">,</span>
          <span class="s2">"PUT"</span><span class="p">,</span>
          <span class="s2">"POST"</span><span class="p">,</span>
          <span class="s2">"DELETE"</span>
        <span class="p">]</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="s2">"entity_type"</span><span class="o">:</span> <span class="s2">"user"</span><span class="p">,</span>
        <span class="s2">"url"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/users/56"</span><span class="p">,</span>
        <span class="s2">"permissions"</span><span class="o">:</span> <span class="p">[</span>
          <span class="s2">"GET"</span><span class="p">,</span>
          <span class="s2">"POST"</span>
        <span class="p">]</span>
      <span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">"references"</span><span class="o">:</span> <span class="p">[</span>
      <span class="s2">"http://server/gfs/0.1/referenceSets/1/references/345"</span><span class="p">,</span>
      <span class="s2">"http://server/gfs/0.1/referenceSets/1/references/829"</span><span class="p">,</span>
      <span class="s2">"http://server/gfs/0.1/referenceSets/1/references/573"</span>
    <span class="p">],</span>
    <span class="s2">"create_tstmp"</span><span class="o">:</span> <span class="s2">"2012-05-22 23:45:00"</span><span class="p">,</span>
    <span class="s2">"ttl"</span><span class="o">:</span> <span class="s2">"FOREVER"</span><span class="p">,</span>
    <span class="s2">"updates"</span><span class="o">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="s2">"editor"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/users/23"</span><span class="p">,</span>
        <span class="s2">"version"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/referenceSets/1/version/2"</span><span class="p">,</span>
        <span class="s2">"update_tstmp"</span><span class="o">:</span> <span class="s2">"2011-08-05 12:34:00"</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="s2">"editor"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/users/23"</span><span class="p">,</span>
        <span class="s2">"version"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/referenceSets/1/version/1"</span><span class="p">,</span>
        <span class="s2">"update_tstmp"</span><span class="o">:</span> <span class="s2">"2011-08-05 12:34:00"</span>
      <span class="p">}</span>
    <span class="p">]</span>
  <span class="p">}</span>
<span class="p">]</span></code></pre>

<h2 id="list-a-single-reference-set">List a Single Reference Set</h2>

<pre><code>GET /referenceSets/:id
</code></pre>

<p>Gets a single references set record.</p>

<h3 id="response-1">Response</h3>

<pre class="headers"><code>Status: 200 OK</code></pre>

<pre class="highlight"><code class="language-javascript"><span class="p">{</span>
  <span class="s2">"id"</span><span class="o">:</span> <span class="s2">"1"</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/referenceSets/1"</span><span class="p">,</span>
  <span class="s2">"version"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/referenceSets/1/version/3"</span><span class="p">,</span>
  <span class="s2">"name"</span><span class="o">:</span> <span class="s2">"Human"</span><span class="p">,</span>
  <span class="s2">"organism"</span><span class="o">:</span> <span class="s2">"Homo Sapiens"</span><span class="p">,</span>
  <span class="s2">"tags"</span><span class="o">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="s2">"id"</span><span class="o">:</span> <span class="s2">"1232"</span><span class="p">,</span>
      <span class="s2">"key"</span><span class="o">:</span> <span class="s2">"released"</span><span class="p">,</span>
      <span class="s2">"predicate"</span><span class="o">:</span> <span class="s2">"equals"</span><span class="p">,</span>
      <span class="s2">"value"</span><span class="o">:</span> <span class="s2">"true"</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">"id"</span><span class="o">:</span> <span class="s2">"29318"</span><span class="p">,</span>
      <span class="s2">"key"</span><span class="o">:</span> <span class="s2">"release_date"</span><span class="p">,</span>
      <span class="s2">"predicate"</span><span class="o">:</span> <span class="s2">"equals"</span><span class="p">,</span>
      <span class="s2">"value"</span><span class="o">:</span> <span class="s2">"2010-08-23 12:34:00"</span>
    <span class="p">}</span>
  <span class="p">],</span>
  <span class="s2">"owner"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/users/23"</span><span class="p">,</span>
  <span class="s2">"acl"</span><span class="o">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="s2">"entity_type"</span><span class="o">:</span> <span class="s2">"group"</span><span class="p">,</span>
      <span class="s2">"url"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/groups/14"</span><span class="p">,</span>
      <span class="s2">"permissions"</span><span class="o">:</span> <span class="p">[</span>
        <span class="s2">"GET"</span><span class="p">,</span>
        <span class="s2">"PUT"</span><span class="p">,</span>
        <span class="s2">"POST"</span><span class="p">,</span>
        <span class="s2">"DELETE"</span>
      <span class="p">]</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">"entity_type"</span><span class="o">:</span> <span class="s2">"user"</span><span class="p">,</span>
      <span class="s2">"url"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/users/56"</span><span class="p">,</span>
      <span class="s2">"permissions"</span><span class="o">:</span> <span class="p">[</span>
        <span class="s2">"GET"</span><span class="p">,</span>
        <span class="s2">"POST"</span>
      <span class="p">]</span>
    <span class="p">}</span>
  <span class="p">],</span>
  <span class="s2">"references"</span><span class="o">:</span> <span class="p">[</span>
    <span class="s2">"http://server/gfs/0.1/referenceSets/1/references/345"</span><span class="p">,</span>
    <span class="s2">"http://server/gfs/0.1/referenceSets/1/references/829"</span><span class="p">,</span>
    <span class="s2">"http://server/gfs/0.1/referenceSets/1/references/573"</span>
  <span class="p">],</span>
  <span class="s2">"create_tstmp"</span><span class="o">:</span> <span class="s2">"2012-05-22 23:45:00"</span><span class="p">,</span>
  <span class="s2">"ttl"</span><span class="o">:</span> <span class="s2">"FOREVER"</span><span class="p">,</span>
  <span class="s2">"updates"</span><span class="o">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="s2">"editor"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/users/23"</span><span class="p">,</span>
      <span class="s2">"version"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/referenceSets/1/version/2"</span><span class="p">,</span>
      <span class="s2">"update_tstmp"</span><span class="o">:</span> <span class="s2">"2011-08-05 12:34:00"</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">"editor"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/users/23"</span><span class="p">,</span>
      <span class="s2">"version"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/referenceSets/1/version/1"</span><span class="p">,</span>
      <span class="s2">"update_tstmp"</span><span class="o">:</span> <span class="s2">"2011-08-05 12:34:00"</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span></code></pre>

<h2 id="create-a-new-reference-set">Create a new reference set</h2>

<pre><code>POST /referenceSet
</code></pre>

<p>This resource lets you create a new reference set and include information about
the source organism etc. The default TTL for referenceSets is “FOREVER”. </p>

<h3 id="input">Input</h3>

<p>You can post a resource set descriptor.  You will need to apply tags and other information using those seperate resources, this just creates the core object.</p>

<pre class="highlight"><code class="language-javascript"><span class="p">{</span>
  <span class="s2">"name"</span><span class="o">:</span> <span class="s2">"Human"</span><span class="p">,</span>
  <span class="s2">"organism"</span><span class="o">:</span> <span class="s2">"Homo Sapiens Typo"</span>
<span class="p">}</span></code></pre>

<h3 id="response-2">Response</h3>

<p>You just get the freshly created resource back. Notice the collections inside it are empty.</p>

<pre class="headers"><code>Status: 201 Created</code></pre>

<pre class="highlight"><code class="language-javascript"><span class="p">{</span>
  <span class="s2">"id"</span><span class="o">:</span> <span class="s2">"1"</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/referenceSets/1"</span><span class="p">,</span>
  <span class="s2">"version"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/referenceSets/1/version/1"</span><span class="p">,</span>
  <span class="s2">"name"</span><span class="o">:</span> <span class="s2">"Human"</span><span class="p">,</span>
  <span class="s2">"organism"</span><span class="o">:</span> <span class="s2">"Homo Sapiens Typo"</span><span class="p">,</span>
  <span class="s2">"tags"</span><span class="o">:</span> <span class="p">[</span>

  <span class="p">],</span>
  <span class="s2">"owner"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/users/23"</span><span class="p">,</span>
  <span class="s2">"acl"</span><span class="o">:</span> <span class="p">[</span>

  <span class="p">],</span>
  <span class="s2">"references"</span><span class="o">:</span> <span class="p">[</span>

  <span class="p">],</span>
  <span class="s2">"create_tstmp"</span><span class="o">:</span> <span class="s2">"2012-05-22 23:45:00"</span><span class="p">,</span>
  <span class="s2">"ttl"</span><span class="o">:</span> <span class="s2">"FOREVER"</span><span class="p">,</span>
  <span class="s2">"updates"</span><span class="o">:</span> <span class="p">[</span>

  <span class="p">]</span>
<span class="p">}</span></code></pre>

<h2 id="modify-an-existing-reference-set">Modify an existing reference set</h2>

<pre><code>PUT /referenceSet/:id
</code></pre>

<p>This resource lets you update an existing reference set.</p>

<h3 id="input-1">Input</h3>

<p>TODO: there are several other fields we want to update. For example TTL.</p>

<p>You can specify reference set values, the collections are accessed with different resources:</p>

<pre class="highlight"><code class="language-javascript"><span class="p">{</span>
  <span class="s2">"name"</span><span class="o">:</span> <span class="s2">"Human"</span><span class="p">,</span>
  <span class="s2">"organism"</span><span class="o">:</span> <span class="s2">"Homo Sapiens"</span>
<span class="p">}</span></code></pre>

<h3 id="response-3">Response</h3>

<pre class="headers"><code>Status: 200 OK</code></pre>

<pre class="highlight"><code class="language-javascript"><span class="p">{</span>
  <span class="s2">"id"</span><span class="o">:</span> <span class="s2">"1"</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/referenceSets/1"</span><span class="p">,</span>
  <span class="s2">"version"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/referenceSets/1/version/1"</span><span class="p">,</span>
  <span class="s2">"name"</span><span class="o">:</span> <span class="s2">"Human"</span><span class="p">,</span>
  <span class="s2">"organism"</span><span class="o">:</span> <span class="s2">"Homo Sapiens"</span><span class="p">,</span>
  <span class="s2">"tags"</span><span class="o">:</span> <span class="p">[</span>

  <span class="p">],</span>
  <span class="s2">"owner"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/users/23"</span><span class="p">,</span>
  <span class="s2">"acl"</span><span class="o">:</span> <span class="p">[</span>

  <span class="p">],</span>
  <span class="s2">"references"</span><span class="o">:</span> <span class="p">[</span>

  <span class="p">],</span>
  <span class="s2">"create_tstmp"</span><span class="o">:</span> <span class="s2">"2012-05-22 23:45:00"</span><span class="p">,</span>
  <span class="s2">"ttl"</span><span class="o">:</span> <span class="s2">"FOREVER"</span><span class="p">,</span>
  <span class="s2">"updates"</span><span class="o">:</span> <span class="p">[</span>

  <span class="p">]</span>
<span class="p">}</span></code></pre>

<h2 id="delete-an-existing-reference-set">Delete an existing reference set</h2>

<pre><code>DELETE /referenceSet/:id
</code></pre>

<p>This resource lets you delete an existing reference set.
Deleting this reference set will cause any associate reference, 
feature sets and features to also be deleted. This is very destructive!</p>

<h3 id="response-4">Response</h3>

<pre class="headers no-response"><code>Status: 204 No Content</code></pre>

<h2 id="search-by-tags">Search by Tags</h2>

<pre><code>GET /referenceSets/tags?key=released
</code></pre>

<p>Gets a list of references sets that have a tag called “released” in this case regardless of value.</p>

<p>QUESTION: do we alow searching on the value too?</p>

<h3 id="response-5">Response</h3>

<pre class="headers"><code>Status: 200 OK</code></pre>

<pre class="highlight"><code class="language-javascript"><span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">"id"</span><span class="o">:</span> <span class="s2">"1"</span><span class="p">,</span>
    <span class="s2">"url"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/referenceSets/1"</span><span class="p">,</span>
    <span class="s2">"version"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/referenceSets/1/version/3"</span><span class="p">,</span>
    <span class="s2">"name"</span><span class="o">:</span> <span class="s2">"Human"</span><span class="p">,</span>
    <span class="s2">"organism"</span><span class="o">:</span> <span class="s2">"Homo Sapiens"</span><span class="p">,</span>
    <span class="s2">"tags"</span><span class="o">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="s2">"id"</span><span class="o">:</span> <span class="s2">"1232"</span><span class="p">,</span>
        <span class="s2">"key"</span><span class="o">:</span> <span class="s2">"released"</span><span class="p">,</span>
        <span class="s2">"predicate"</span><span class="o">:</span> <span class="s2">"equals"</span><span class="p">,</span>
        <span class="s2">"value"</span><span class="o">:</span> <span class="s2">"true"</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="s2">"id"</span><span class="o">:</span> <span class="s2">"29318"</span><span class="p">,</span>
        <span class="s2">"key"</span><span class="o">:</span> <span class="s2">"release_date"</span><span class="p">,</span>
        <span class="s2">"predicate"</span><span class="o">:</span> <span class="s2">"equals"</span><span class="p">,</span>
        <span class="s2">"value"</span><span class="o">:</span> <span class="s2">"2010-08-23 12:34:00"</span>
      <span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">"owner"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/users/23"</span><span class="p">,</span>
    <span class="s2">"acl"</span><span class="o">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="s2">"entity_type"</span><span class="o">:</span> <span class="s2">"group"</span><span class="p">,</span>
        <span class="s2">"url"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/groups/14"</span><span class="p">,</span>
        <span class="s2">"permissions"</span><span class="o">:</span> <span class="p">[</span>
          <span class="s2">"GET"</span><span class="p">,</span>
          <span class="s2">"PUT"</span><span class="p">,</span>
          <span class="s2">"POST"</span><span class="p">,</span>
          <span class="s2">"DELETE"</span>
        <span class="p">]</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="s2">"entity_type"</span><span class="o">:</span> <span class="s2">"user"</span><span class="p">,</span>
        <span class="s2">"url"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/users/56"</span><span class="p">,</span>
        <span class="s2">"permissions"</span><span class="o">:</span> <span class="p">[</span>
          <span class="s2">"GET"</span><span class="p">,</span>
          <span class="s2">"POST"</span>
        <span class="p">]</span>
      <span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">"references"</span><span class="o">:</span> <span class="p">[</span>
      <span class="s2">"http://server/gfs/0.1/referenceSets/1/references/345"</span><span class="p">,</span>
      <span class="s2">"http://server/gfs/0.1/referenceSets/1/references/829"</span><span class="p">,</span>
      <span class="s2">"http://server/gfs/0.1/referenceSets/1/references/573"</span>
    <span class="p">],</span>
    <span class="s2">"create_tstmp"</span><span class="o">:</span> <span class="s2">"2012-05-22 23:45:00"</span><span class="p">,</span>
    <span class="s2">"ttl"</span><span class="o">:</span> <span class="s2">"FOREVER"</span><span class="p">,</span>
    <span class="s2">"updates"</span><span class="o">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="s2">"editor"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/users/23"</span><span class="p">,</span>
        <span class="s2">"version"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/referenceSets/1/version/2"</span><span class="p">,</span>
        <span class="s2">"update_tstmp"</span><span class="o">:</span> <span class="s2">"2011-08-05 12:34:00"</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="s2">"editor"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/users/23"</span><span class="p">,</span>
        <span class="s2">"version"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/referenceSets/1/version/1"</span><span class="p">,</span>
        <span class="s2">"update_tstmp"</span><span class="o">:</span> <span class="s2">"2011-08-05 12:34:00"</span>
      <span class="p">}</span>
    <span class="p">]</span>
  <span class="p">}</span>
<span class="p">]</span></code></pre>

<h2 id="search-for-tags">Search for Tags</h2>

<pre><code>GET /referenceSets/:id/tags
</code></pre>

<p>Gets a list of tags for a particular references set.</p>

<h3 id="response-6">Response</h3>

<pre class="headers"><code>Status: 200 OK</code></pre>

<pre class="highlight"><code class="language-javascript"><span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">"id"</span><span class="o">:</span> <span class="s2">"1232"</span><span class="p">,</span>
    <span class="s2">"key"</span><span class="o">:</span> <span class="s2">"released"</span><span class="p">,</span>
    <span class="s2">"predicate"</span><span class="o">:</span> <span class="s2">"equals"</span><span class="p">,</span>
    <span class="s2">"value"</span><span class="o">:</span> <span class="s2">"true"</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">"id"</span><span class="o">:</span> <span class="s2">"29318"</span><span class="p">,</span>
    <span class="s2">"key"</span><span class="o">:</span> <span class="s2">"release_date"</span><span class="p">,</span>
    <span class="s2">"predicate"</span><span class="o">:</span> <span class="s2">"equals"</span><span class="p">,</span>
    <span class="s2">"value"</span><span class="o">:</span> <span class="s2">"2010-08-23 12:34:00"</span>
  <span class="p">}</span>
<span class="p">]</span></code></pre>

<h2 id="adding-a-tag-to-the-reference-set">Adding a Tag to the Reference Set</h2>

<pre><code>PUT /referenceSets/:id/tag/:tag_id
</code></pre>

<p>Associate a given tag (subject) to a referenceSets, this will have a null value
(object) and null predicate.  The response includes the full referenceSet
object, in this case the result is show when tag ID 92019 is used in the
request. Each tag has a unique ID and this can be found by doing queries on the
/tagSets resource.  Notice this process causes a new version of the object to
be created.</p>

<h3 id="response-7">Response</h3>

<pre class="headers"><code>Status: 200 OK</code></pre>

<pre class="highlight"><code class="language-javascript"><span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">"id"</span><span class="o">:</span> <span class="s2">"1"</span><span class="p">,</span>
    <span class="s2">"url"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/referenceSets/1"</span><span class="p">,</span>
    <span class="s2">"version"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/referenceSets/1/version/4"</span><span class="p">,</span>
    <span class="s2">"name"</span><span class="o">:</span> <span class="s2">"Human"</span><span class="p">,</span>
    <span class="s2">"organism"</span><span class="o">:</span> <span class="s2">"Homo Sapiens"</span><span class="p">,</span>
    <span class="s2">"tags"</span><span class="o">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="s2">"id"</span><span class="o">:</span> <span class="s2">"1232"</span><span class="p">,</span>
        <span class="s2">"key"</span><span class="o">:</span> <span class="s2">"released"</span><span class="p">,</span>
        <span class="s2">"predicate"</span><span class="o">:</span> <span class="s2">"equals"</span><span class="p">,</span>
        <span class="s2">"value"</span><span class="o">:</span> <span class="s2">"true"</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="s2">"id"</span><span class="o">:</span> <span class="s2">"29318"</span><span class="p">,</span>
        <span class="s2">"key"</span><span class="o">:</span> <span class="s2">"release_date"</span><span class="p">,</span>
        <span class="s2">"predicate"</span><span class="o">:</span> <span class="s2">"equals"</span><span class="p">,</span>
        <span class="s2">"value"</span><span class="o">:</span> <span class="s2">"2010-08-23 12:34:00"</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="s2">"id"</span><span class="o">:</span> <span class="s2">"92019"</span><span class="p">,</span>
        <span class="s2">"key"</span><span class="o">:</span> <span class="s2">"in_production"</span><span class="p">,</span>
        <span class="s2">"predicate"</span><span class="o">:</span> <span class="s2">"equals"</span><span class="p">,</span>
        <span class="s2">"value"</span><span class="o">:</span> <span class="s2">"true"</span>
      <span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">"owner"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/users/23"</span><span class="p">,</span>
    <span class="s2">"acl"</span><span class="o">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="s2">"entity_type"</span><span class="o">:</span> <span class="s2">"group"</span><span class="p">,</span>
        <span class="s2">"url"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/groups/14"</span><span class="p">,</span>
        <span class="s2">"permissions"</span><span class="o">:</span> <span class="p">[</span>
          <span class="s2">"GET"</span><span class="p">,</span>
          <span class="s2">"PUT"</span><span class="p">,</span>
          <span class="s2">"POST"</span><span class="p">,</span>
          <span class="s2">"DELETE"</span>
        <span class="p">]</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="s2">"entity_type"</span><span class="o">:</span> <span class="s2">"user"</span><span class="p">,</span>
        <span class="s2">"url"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/users/56"</span><span class="p">,</span>
        <span class="s2">"permissions"</span><span class="o">:</span> <span class="p">[</span>
          <span class="s2">"GET"</span><span class="p">,</span>
          <span class="s2">"POST"</span>
        <span class="p">]</span>
      <span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">"references"</span><span class="o">:</span> <span class="p">[</span>
      <span class="s2">"http://server/gfs/0.1/referenceSets/1/references/345"</span><span class="p">,</span>
      <span class="s2">"http://server/gfs/0.1/referenceSets/1/references/829"</span><span class="p">,</span>
      <span class="s2">"http://server/gfs/0.1/referenceSets/1/references/573"</span>
    <span class="p">],</span>
    <span class="s2">"create_tstmp"</span><span class="o">:</span> <span class="s2">"2012-05-22 23:45:00"</span><span class="p">,</span>
    <span class="s2">"ttl"</span><span class="o">:</span> <span class="s2">"FOREVER"</span><span class="p">,</span>
    <span class="s2">"updates"</span><span class="o">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="s2">"editor"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/users/23"</span><span class="p">,</span>
        <span class="s2">"version"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/referenceSets/1/version/3"</span><span class="p">,</span>
        <span class="s2">"update_tstmp"</span><span class="o">:</span> <span class="s2">"2012-05-05 12:34:00"</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="s2">"editor"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/users/23"</span><span class="p">,</span>
        <span class="s2">"version"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/referenceSets/1/version/2"</span><span class="p">,</span>
        <span class="s2">"update_tstmp"</span><span class="o">:</span> <span class="s2">"2011-08-05 12:34:00"</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="s2">"editor"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/users/23"</span><span class="p">,</span>
        <span class="s2">"version"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/referenceSets/1/version/1"</span><span class="p">,</span>
        <span class="s2">"update_tstmp"</span><span class="o">:</span> <span class="s2">"2011-08-05 12:34:00"</span>
      <span class="p">}</span>
    <span class="p">]</span>
  <span class="p">}</span>
<span class="p">]</span></code></pre>

<h2 id="adding-a-tag-and-value-to-the-reference-set">Adding a Tag and Value to the Reference Set</h2>

<pre><code>PUT /referenceSets/:id/tag/:tag_id/:value
</code></pre>

<p>Associate a given tag (subject) to a referenceSets, this will have the value (object) specified and a default predicate of “equals”.
The response includes the full referenceSet object, in this case the result is show when tag ID 92019 with value “correct” is used
in the request.</p>

<h3 id="response-8">Response</h3>

<pre class="headers"><code>Status: 200 OK</code></pre>

<pre class="highlight"><code class="language-javascript"><span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">"id"</span><span class="o">:</span> <span class="s2">"1"</span><span class="p">,</span>
    <span class="s2">"url"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/referenceSets/1"</span><span class="p">,</span>
    <span class="s2">"version"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/referenceSets/1/version/4"</span><span class="p">,</span>
    <span class="s2">"name"</span><span class="o">:</span> <span class="s2">"Human"</span><span class="p">,</span>
    <span class="s2">"organism"</span><span class="o">:</span> <span class="s2">"Homo Sapiens"</span><span class="p">,</span>
    <span class="s2">"tags"</span><span class="o">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="s2">"id"</span><span class="o">:</span> <span class="s2">"1232"</span><span class="p">,</span>
        <span class="s2">"key"</span><span class="o">:</span> <span class="s2">"released"</span><span class="p">,</span>
        <span class="s2">"predicate"</span><span class="o">:</span> <span class="s2">"equals"</span><span class="p">,</span>
        <span class="s2">"value"</span><span class="o">:</span> <span class="s2">"true"</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="s2">"id"</span><span class="o">:</span> <span class="s2">"29318"</span><span class="p">,</span>
        <span class="s2">"key"</span><span class="o">:</span> <span class="s2">"release_date"</span><span class="p">,</span>
        <span class="s2">"predicate"</span><span class="o">:</span> <span class="s2">"equals"</span><span class="p">,</span>
        <span class="s2">"value"</span><span class="o">:</span> <span class="s2">"2010-08-23 12:34:00"</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="s2">"id"</span><span class="o">:</span> <span class="s2">"92019"</span><span class="p">,</span>
        <span class="s2">"key"</span><span class="o">:</span> <span class="s2">"in_production"</span><span class="p">,</span>
        <span class="s2">"predicate"</span><span class="o">:</span> <span class="s2">"equals"</span><span class="p">,</span>
        <span class="s2">"value"</span><span class="o">:</span> <span class="s2">"correct"</span>
      <span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">"owner"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/users/23"</span><span class="p">,</span>
    <span class="s2">"acl"</span><span class="o">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="s2">"entity_type"</span><span class="o">:</span> <span class="s2">"group"</span><span class="p">,</span>
        <span class="s2">"url"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/groups/14"</span><span class="p">,</span>
        <span class="s2">"permissions"</span><span class="o">:</span> <span class="p">[</span>
          <span class="s2">"GET"</span><span class="p">,</span>
          <span class="s2">"PUT"</span><span class="p">,</span>
          <span class="s2">"POST"</span><span class="p">,</span>
          <span class="s2">"DELETE"</span>
        <span class="p">]</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="s2">"entity_type"</span><span class="o">:</span> <span class="s2">"user"</span><span class="p">,</span>
        <span class="s2">"url"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/users/56"</span><span class="p">,</span>
        <span class="s2">"permissions"</span><span class="o">:</span> <span class="p">[</span>
          <span class="s2">"GET"</span><span class="p">,</span>
          <span class="s2">"POST"</span>
        <span class="p">]</span>
      <span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">"references"</span><span class="o">:</span> <span class="p">[</span>
      <span class="s2">"http://server/gfs/0.1/referenceSets/1/references/345"</span><span class="p">,</span>
      <span class="s2">"http://server/gfs/0.1/referenceSets/1/references/829"</span><span class="p">,</span>
      <span class="s2">"http://server/gfs/0.1/referenceSets/1/references/573"</span>
    <span class="p">],</span>
    <span class="s2">"create_tstmp"</span><span class="o">:</span> <span class="s2">"2012-05-22 23:45:00"</span><span class="p">,</span>
    <span class="s2">"ttl"</span><span class="o">:</span> <span class="s2">"FOREVER"</span><span class="p">,</span>
    <span class="s2">"updates"</span><span class="o">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="s2">"editor"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/users/23"</span><span class="p">,</span>
        <span class="s2">"version"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/referenceSets/1/version/3"</span><span class="p">,</span>
        <span class="s2">"update_tstmp"</span><span class="o">:</span> <span class="s2">"2012-05-05 12:34:00"</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="s2">"editor"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/users/23"</span><span class="p">,</span>
        <span class="s2">"version"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/referenceSets/1/version/2"</span><span class="p">,</span>
        <span class="s2">"update_tstmp"</span><span class="o">:</span> <span class="s2">"2011-08-05 12:34:00"</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="s2">"editor"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/users/23"</span><span class="p">,</span>
        <span class="s2">"version"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/referenceSets/1/version/1"</span><span class="p">,</span>
        <span class="s2">"update_tstmp"</span><span class="o">:</span> <span class="s2">"2011-08-05 12:34:00"</span>
      <span class="p">}</span>
    <span class="p">]</span>
  <span class="p">}</span>
<span class="p">]</span></code></pre>

<h2 id="adding-a-tag-value-and-predicate-to-the-reference-set">Adding a Tag, Value and Predicate to the Reference Set</h2>

<pre><code>PUT /referenceSets/:id/tag/:tag_id/:value/:predicate
</code></pre>

<p>Associate a given tag (subject) to a referenceSet, this will have the value
(object) and predicate specified in the request.  The response includes the
full referenceSet object, in this case the result is show when tag ID 92019
with value “2012-03-27 22:48:00” and predicate “since” is used.</p>

<h3 id="response-9">Response</h3>

<pre class="headers"><code>Status: 200 OK</code></pre>

<pre class="highlight"><code class="language-javascript"><span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">"id"</span><span class="o">:</span> <span class="s2">"1"</span><span class="p">,</span>
    <span class="s2">"url"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/referenceSets/1"</span><span class="p">,</span>
    <span class="s2">"version"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/referenceSets/1/version/4"</span><span class="p">,</span>
    <span class="s2">"name"</span><span class="o">:</span> <span class="s2">"Human"</span><span class="p">,</span>
    <span class="s2">"organism"</span><span class="o">:</span> <span class="s2">"Homo Sapiens"</span><span class="p">,</span>
    <span class="s2">"tags"</span><span class="o">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="s2">"id"</span><span class="o">:</span> <span class="s2">"1232"</span><span class="p">,</span>
        <span class="s2">"key"</span><span class="o">:</span> <span class="s2">"released"</span><span class="p">,</span>
        <span class="s2">"predicate"</span><span class="o">:</span> <span class="s2">"equals"</span><span class="p">,</span>
        <span class="s2">"value"</span><span class="o">:</span> <span class="s2">"true"</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="s2">"id"</span><span class="o">:</span> <span class="s2">"29318"</span><span class="p">,</span>
        <span class="s2">"key"</span><span class="o">:</span> <span class="s2">"release_date"</span><span class="p">,</span>
        <span class="s2">"predicate"</span><span class="o">:</span> <span class="s2">"equals"</span><span class="p">,</span>
        <span class="s2">"value"</span><span class="o">:</span> <span class="s2">"2010-08-23 12:34:00"</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="s2">"id"</span><span class="o">:</span> <span class="s2">"92019"</span><span class="p">,</span>
        <span class="s2">"key"</span><span class="o">:</span> <span class="s2">"in_production"</span><span class="p">,</span>
        <span class="s2">"predicate"</span><span class="o">:</span> <span class="s2">"since"</span><span class="p">,</span>
        <span class="s2">"value"</span><span class="o">:</span> <span class="s2">"2012-03-27 22:48:00"</span>
      <span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">"owner"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/users/23"</span><span class="p">,</span>
    <span class="s2">"acl"</span><span class="o">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="s2">"entity_type"</span><span class="o">:</span> <span class="s2">"group"</span><span class="p">,</span>
        <span class="s2">"url"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/groups/14"</span><span class="p">,</span>
        <span class="s2">"permissions"</span><span class="o">:</span> <span class="p">[</span>
          <span class="s2">"GET"</span><span class="p">,</span>
          <span class="s2">"PUT"</span><span class="p">,</span>
          <span class="s2">"POST"</span><span class="p">,</span>
          <span class="s2">"DELETE"</span>
        <span class="p">]</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="s2">"entity_type"</span><span class="o">:</span> <span class="s2">"user"</span><span class="p">,</span>
        <span class="s2">"url"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/users/56"</span><span class="p">,</span>
        <span class="s2">"permissions"</span><span class="o">:</span> <span class="p">[</span>
          <span class="s2">"GET"</span><span class="p">,</span>
          <span class="s2">"POST"</span>
        <span class="p">]</span>
      <span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">"references"</span><span class="o">:</span> <span class="p">[</span>
      <span class="s2">"http://server/gfs/0.1/referenceSets/1/references/345"</span><span class="p">,</span>
      <span class="s2">"http://server/gfs/0.1/referenceSets/1/references/829"</span><span class="p">,</span>
      <span class="s2">"http://server/gfs/0.1/referenceSets/1/references/573"</span>
    <span class="p">],</span>
    <span class="s2">"create_tstmp"</span><span class="o">:</span> <span class="s2">"2012-05-22 23:45:00"</span><span class="p">,</span>
    <span class="s2">"ttl"</span><span class="o">:</span> <span class="s2">"FOREVER"</span><span class="p">,</span>
    <span class="s2">"updates"</span><span class="o">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="s2">"editor"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/users/23"</span><span class="p">,</span>
        <span class="s2">"version"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/referenceSets/1/version/3"</span><span class="p">,</span>
        <span class="s2">"update_tstmp"</span><span class="o">:</span> <span class="s2">"2012-05-05 12:34:00"</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="s2">"editor"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/users/23"</span><span class="p">,</span>
        <span class="s2">"version"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/referenceSets/1/version/2"</span><span class="p">,</span>
        <span class="s2">"update_tstmp"</span><span class="o">:</span> <span class="s2">"2011-08-05 12:34:00"</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="s2">"editor"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/users/23"</span><span class="p">,</span>
        <span class="s2">"version"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/referenceSets/1/version/1"</span><span class="p">,</span>
        <span class="s2">"update_tstmp"</span><span class="o">:</span> <span class="s2">"2011-08-05 12:34:00"</span>
      <span class="p">}</span>
    <span class="p">]</span>
  <span class="p">}</span>
<span class="p">]</span></code></pre>

<h2 id="delete-a-tag-from-a-referenceset">Delete a Tag from a ReferenceSet</h2>

<pre><code>DELETE /referenceSet/:id/tag/:tag_id
</code></pre>

<p>This resource lets you delete a tag from a reference set.  Notice that a new
version is created by this request and the tag (ID 92019) has been removed in
this example.</p>

<h3 id="response-10">Response</h3>

<pre class="headers"><code>Status: 200 OK</code></pre>

<pre class="highlight"><code class="language-javascript"><span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">"id"</span><span class="o">:</span> <span class="s2">"1"</span><span class="p">,</span>
    <span class="s2">"url"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/referenceSets/1"</span><span class="p">,</span>
    <span class="s2">"version"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/referenceSets/1/version/5"</span><span class="p">,</span>
    <span class="s2">"name"</span><span class="o">:</span> <span class="s2">"Human"</span><span class="p">,</span>
    <span class="s2">"organism"</span><span class="o">:</span> <span class="s2">"Homo Sapiens"</span><span class="p">,</span>
    <span class="s2">"tags"</span><span class="o">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="s2">"id"</span><span class="o">:</span> <span class="s2">"1232"</span><span class="p">,</span>
        <span class="s2">"key"</span><span class="o">:</span> <span class="s2">"released"</span><span class="p">,</span>
        <span class="s2">"predicate"</span><span class="o">:</span> <span class="s2">"equals"</span><span class="p">,</span>
        <span class="s2">"value"</span><span class="o">:</span> <span class="s2">"true"</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="s2">"id"</span><span class="o">:</span> <span class="s2">"29318"</span><span class="p">,</span>
        <span class="s2">"key"</span><span class="o">:</span> <span class="s2">"release_date"</span><span class="p">,</span>
        <span class="s2">"predicate"</span><span class="o">:</span> <span class="s2">"equals"</span><span class="p">,</span>
        <span class="s2">"value"</span><span class="o">:</span> <span class="s2">"2010-08-23 12:34:00"</span>
      <span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">"owner"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/users/23"</span><span class="p">,</span>
    <span class="s2">"acl"</span><span class="o">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="s2">"entity_type"</span><span class="o">:</span> <span class="s2">"group"</span><span class="p">,</span>
        <span class="s2">"url"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/groups/14"</span><span class="p">,</span>
        <span class="s2">"permissions"</span><span class="o">:</span> <span class="p">[</span>
          <span class="s2">"GET"</span><span class="p">,</span>
          <span class="s2">"PUT"</span><span class="p">,</span>
          <span class="s2">"POST"</span><span class="p">,</span>
          <span class="s2">"DELETE"</span>
        <span class="p">]</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="s2">"entity_type"</span><span class="o">:</span> <span class="s2">"user"</span><span class="p">,</span>
        <span class="s2">"url"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/users/56"</span><span class="p">,</span>
        <span class="s2">"permissions"</span><span class="o">:</span> <span class="p">[</span>
          <span class="s2">"GET"</span><span class="p">,</span>
          <span class="s2">"POST"</span>
        <span class="p">]</span>
      <span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">"references"</span><span class="o">:</span> <span class="p">[</span>
      <span class="s2">"http://server/gfs/0.1/referenceSets/1/references/345"</span><span class="p">,</span>
      <span class="s2">"http://server/gfs/0.1/referenceSets/1/references/829"</span><span class="p">,</span>
      <span class="s2">"http://server/gfs/0.1/referenceSets/1/references/573"</span>
    <span class="p">],</span>
    <span class="s2">"create_tstmp"</span><span class="o">:</span> <span class="s2">"2012-05-27 23:45:00"</span><span class="p">,</span>
    <span class="s2">"ttl"</span><span class="o">:</span> <span class="s2">"FOREVER"</span><span class="p">,</span>
    <span class="s2">"updates"</span><span class="o">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="s2">"editor"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/users/23"</span><span class="p">,</span>
        <span class="s2">"version"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/referenceSets/1/version/4"</span><span class="p">,</span>
        <span class="s2">"update_tstmp"</span><span class="o">:</span> <span class="s2">"2012-05-22 23:45:00"</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="s2">"editor"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/users/23"</span><span class="p">,</span>
        <span class="s2">"version"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/referenceSets/1/version/3"</span><span class="p">,</span>
        <span class="s2">"update_tstmp"</span><span class="o">:</span> <span class="s2">"2012-05-05 12:34:00"</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="s2">"editor"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/users/23"</span><span class="p">,</span>
        <span class="s2">"version"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/referenceSets/1/version/2"</span><span class="p">,</span>
        <span class="s2">"update_tstmp"</span><span class="o">:</span> <span class="s2">"2011-08-05 12:34:00"</span>
      <span class="p">},</span>
      <span class="p">{</span>
        <span class="s2">"editor"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/users/23"</span><span class="p">,</span>
        <span class="s2">"version"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/referenceSets/1/version/1"</span><span class="p">,</span>
        <span class="s2">"update_tstmp"</span><span class="o">:</span> <span class="s2">"2011-08-05 12:34:00"</span>
      <span class="p">}</span>
    <span class="p">]</span>
  <span class="p">}</span>
<span class="p">]</span></code></pre>

<h2 id="get-permissions">Get Permissions</h2>

<pre><code>GET /referenceSets/:id/permissions
</code></pre>

<p>Gets a list of ACL permissions for this referenceSet. Note that permissions apply to this and all previous versions of the object. So if you tighten access previous versions will also be protected by this ACL change.</p>

<p>TODO: maybe we do not need this since this data can be found in main GET</p>

<h3 id="response-11">Response</h3>

<pre class="headers"><code>Status: 200 OK</code></pre>

<pre class="highlight"><code class="language-javascript"><span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">"entity_type"</span><span class="o">:</span> <span class="s2">"group"</span><span class="p">,</span>
    <span class="s2">"url"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/groups/14"</span><span class="p">,</span>
    <span class="s2">"permissions"</span><span class="o">:</span> <span class="p">[</span>
      <span class="s2">"GET"</span><span class="p">,</span>
      <span class="s2">"PUT"</span><span class="p">,</span>
      <span class="s2">"POST"</span><span class="p">,</span>
      <span class="s2">"DELETE"</span>
    <span class="p">]</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">"entity_type"</span><span class="o">:</span> <span class="s2">"user"</span><span class="p">,</span>
    <span class="s2">"url"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/users/56"</span><span class="p">,</span>
    <span class="s2">"permissions"</span><span class="o">:</span> <span class="p">[</span>
      <span class="s2">"GET"</span><span class="p">,</span>
      <span class="s2">"POST"</span>
    <span class="p">]</span>
  <span class="p">}</span>
<span class="p">]</span></code></pre>

<h2 id="update-permissions">Update Permissions</h2>

<pre><code>PUT /referenceSets/:id/permissions
</code></pre>

<p>Updates the premissions on this object by providing a list of ACL permissions. Note that permissions apply to this and all previous versions of the object. So if you tighten access previous versions will also be protected by this ACL change. The URL is used to identify the entity you are granting or removing permissions for.  If a previous URL is not mentioned in the PUT nothing will be changed.  To delete permissions completely for an entry you pass an empty array as in the second entry below.  Otherwise the permissions field controls whether you are adding or removing permissions.</p>

<h3 id="response-12">Response</h3>

<pre class="headers"><code>Status: 200 OK</code></pre>

<pre class="highlight"><code class="language-javascript"><span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">"entity_type"</span><span class="o">:</span> <span class="s2">"group"</span><span class="p">,</span>
    <span class="s2">"url"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/groups/14"</span><span class="p">,</span>
    <span class="s2">"permissions"</span><span class="o">:</span> <span class="p">[</span>
      <span class="s2">"GET"</span><span class="p">,</span>
      <span class="s2">"PUT"</span><span class="p">,</span>
      <span class="s2">"POST"</span>
    <span class="p">]</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">"entity_type"</span><span class="o">:</span> <span class="s2">"user"</span><span class="p">,</span>
    <span class="s2">"url"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/users/56"</span><span class="p">,</span>
    <span class="s2">"permissions"</span><span class="o">:</span> <span class="p">[</span>

    <span class="p">]</span>
  <span class="p">}</span>
<span class="p">]</span></code></pre>

<p>Now doing a GET request we see that the version of the object has incremented (and you could see previous permissions by issuing a GET on a previous version). But the current permissions now control access to the current and all previous versions of this object.</p>

<pre><code>GET /referenceSets/:id
</code></pre>

<h3 id="response-13">Response</h3>

<pre class="headers"><code>Status: 200 OK</code></pre>

<pre class="highlight"><code class="language-javascript"><span class="p">{</span>
  <span class="s2">"id"</span><span class="o">:</span> <span class="s2">"1"</span><span class="p">,</span>
  <span class="s2">"url"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/referenceSets/1"</span><span class="p">,</span>
  <span class="s2">"version"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/referenceSets/1/version/6"</span><span class="p">,</span>
  <span class="s2">"name"</span><span class="o">:</span> <span class="s2">"Human"</span><span class="p">,</span>
  <span class="s2">"organism"</span><span class="o">:</span> <span class="s2">"Homo Sapiens"</span><span class="p">,</span>
  <span class="s2">"tags"</span><span class="o">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="s2">"id"</span><span class="o">:</span> <span class="s2">"1232"</span><span class="p">,</span>
      <span class="s2">"key"</span><span class="o">:</span> <span class="s2">"released"</span><span class="p">,</span>
      <span class="s2">"predicate"</span><span class="o">:</span> <span class="s2">"equals"</span><span class="p">,</span>
      <span class="s2">"value"</span><span class="o">:</span> <span class="s2">"true"</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">"id"</span><span class="o">:</span> <span class="s2">"29318"</span><span class="p">,</span>
      <span class="s2">"key"</span><span class="o">:</span> <span class="s2">"release_date"</span><span class="p">,</span>
      <span class="s2">"predicate"</span><span class="o">:</span> <span class="s2">"equals"</span><span class="p">,</span>
      <span class="s2">"value"</span><span class="o">:</span> <span class="s2">"2010-08-23 12:34:00"</span>
    <span class="p">}</span>
  <span class="p">],</span>
  <span class="s2">"owner"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/users/23"</span><span class="p">,</span>
  <span class="s2">"acl"</span><span class="o">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="s2">"entity_type"</span><span class="o">:</span> <span class="s2">"group"</span><span class="p">,</span>
      <span class="s2">"url"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/groups/14"</span><span class="p">,</span>
      <span class="s2">"permissions"</span><span class="o">:</span> <span class="p">[</span>
        <span class="s2">"GET"</span><span class="p">,</span>
        <span class="s2">"PUT"</span><span class="p">,</span>
        <span class="s2">"POST"</span>
      <span class="p">]</span>
    <span class="p">}</span>
  <span class="p">],</span>
  <span class="s2">"references"</span><span class="o">:</span> <span class="p">[</span>
    <span class="s2">"http://server/gfs/0.1/referenceSets/1/references/345"</span><span class="p">,</span>
    <span class="s2">"http://server/gfs/0.1/referenceSets/1/references/829"</span><span class="p">,</span>
    <span class="s2">"http://server/gfs/0.1/referenceSets/1/references/573"</span>
  <span class="p">],</span>
  <span class="s2">"create_tstmp"</span><span class="o">:</span> <span class="s2">"2012-05-28 23:45:00"</span><span class="p">,</span>
  <span class="s2">"ttl"</span><span class="o">:</span> <span class="s2">"FOREVER"</span><span class="p">,</span>
  <span class="s2">"updates"</span><span class="o">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="s2">"editor"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/users/23"</span><span class="p">,</span>
      <span class="s2">"version"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/referenceSets/1/version/5"</span><span class="p">,</span>
      <span class="s2">"update_tstmp"</span><span class="o">:</span> <span class="s2">"2012-05-27 23:45:00"</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">"editor"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/users/23"</span><span class="p">,</span>
      <span class="s2">"version"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/referenceSets/1/version/4"</span><span class="p">,</span>
      <span class="s2">"update_tstmp"</span><span class="o">:</span> <span class="s2">"2012-05-22 23:45:00"</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">"editor"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/users/23"</span><span class="p">,</span>
      <span class="s2">"version"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/referenceSets/1/version/3"</span><span class="p">,</span>
      <span class="s2">"update_tstmp"</span><span class="o">:</span> <span class="s2">"2012-05-05 12:34:00"</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">"editor"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/users/23"</span><span class="p">,</span>
      <span class="s2">"version"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/referenceSets/1/version/2"</span><span class="p">,</span>
      <span class="s2">"update_tstmp"</span><span class="o">:</span> <span class="s2">"2011-08-05 12:34:00"</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">"editor"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/users/23"</span><span class="p">,</span>
      <span class="s2">"version"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/referenceSets/1/version/1"</span><span class="p">,</span>
      <span class="s2">"update_tstmp"</span><span class="o">:</span> <span class="s2">"2011-08-05 12:34:00"</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span></code></pre>

<h2 id="get-versions">Get Versions</h2>

<pre><code>GET /referenceSets/:id/versions
</code></pre>

<p>Gets a list of versions for this object. This returns all versions including those in the “updates” section of the doc along with the current version.</p>

<p>TODO: maybe we do not need this since this data can be found in main GET</p>

<h3 id="response-14">Response</h3>

<pre class="headers"><code>Status: 200 OK</code></pre>

<pre class="highlight"><code class="language-javascript"><span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">"editor"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/users/23"</span><span class="p">,</span>
    <span class="s2">"version"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/referenceSets/1/version/6"</span><span class="p">,</span>
    <span class="s2">"update_tstmp"</span><span class="o">:</span> <span class="s2">"2012-05-28 23:45:00"</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">"editor"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/users/23"</span><span class="p">,</span>
    <span class="s2">"version"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/referenceSets/1/version/5"</span><span class="p">,</span>
    <span class="s2">"update_tstmp"</span><span class="o">:</span> <span class="s2">"2012-05-27 23:45:00"</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">"editor"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/users/23"</span><span class="p">,</span>
    <span class="s2">"version"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/referenceSets/1/version/4"</span><span class="p">,</span>
    <span class="s2">"update_tstmp"</span><span class="o">:</span> <span class="s2">"2012-05-22 23:45:00"</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">"editor"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/users/23"</span><span class="p">,</span>
    <span class="s2">"version"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/referenceSets/1/version/3"</span><span class="p">,</span>
    <span class="s2">"update_tstmp"</span><span class="o">:</span> <span class="s2">"2012-05-05 12:34:00"</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">"editor"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/users/23"</span><span class="p">,</span>
    <span class="s2">"version"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/referenceSets/1/version/2"</span><span class="p">,</span>
    <span class="s2">"update_tstmp"</span><span class="o">:</span> <span class="s2">"2011-08-05 12:34:00"</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">"editor"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/users/23"</span><span class="p">,</span>
    <span class="s2">"version"</span><span class="o">:</span> <span class="s2">"http://server/gfs/0.1/referenceSets/1/version/1"</span><span class="p">,</span>
    <span class="s2">"update_tstmp"</span><span class="o">:</span> <span class="s2">"2011-08-05 12:34:00"</span>
  <span class="p">}</span>
<span class="p">]</span></code></pre>
      </div>

    <div id="js-sidebar" class="sidebar-shell">
      <div class="js-toggle-list sidebar-module expandable">
        <ul>
<li class="js-topic">
            <h3>
<a href="#" class="js-expand-btn collapsed"> </a><a href="../../">Generic Feature Store</a>
</h3>
            <ul class="js-guides">
<li><a href="../../features/referenceSet/index.html">Reference Sets</a></li>
            </ul>
</li>
        </ul>
</div> <!-- /sidebar-module -->
    </div>
<!-- /sidebar-shell -->

    </div>
<!-- #wrapper -->

    <div id="footer">
      <div class="lower_footer">
        <div class="footer_inner clearfix">
            <div id="legal"> 
              <!--[if IE]><a class="home_ie" href="http://oicr.on.ca">Home</a><![endif]-->
              <a class="home" href="http://oicr.on.ca">Home</a>

              <p>© <span id="year">year</span> Ontario Institute for Cancer Research. All rights reserved.</p>
            </div>
<!-- /#legal or /#legal_ie-->
        </div>
<!-- /.site -->
      </div>
<!-- /.lower_footer -->
    </div>
<!-- /#footer -->
    <script type="text/javascript">
      var _gauges = _gauges || [];
      (function() {
        var t   = document.createElement('script');
        t.type  = 'text/javascript';
        t.async = true;
        t.id    = 'gauges-tracker';
        t.setAttribute('data-site-id', '4f2038e0cb25bc1b55000003');
        t.src = '//secure.gaug.es/track.js';
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(t, s);
      })();
    </script>
</body>
</html>
